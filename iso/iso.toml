# Anaconda ISO Installer Configuration for ClarityOS
# This configuration creates a bootable ISO image for installing ClarityOS with COSMIC Desktop.

[customizations.installer.kickstart]
contents = """
%post
# After installation, switch to the ClarityOS custom image from this repository
bootc switch --mutate-in-place --transport registry ghcr.io/ctsdownloads/playground:stable
%end
"""

[customizations.installer.modules]
# Enable standard Anaconda installer modules for a guided installation experience
enable = [
  "org.fedoraproject.Anaconda.Modules.Storage",    # Disk partitioning and formatting
  "org.fedoraproject.Anaconda.Modules.Runtime",    # Basic runtime configuration  
  "org.fedoraproject.Anaconda.Modules.Network",    # Network configuration
  "org.fedoraproject.Anaconda.Modules.Security",   # Security settings
  "org.fedoraproject.Anaconda.Modules.Services",   # System services
  "org.fedoraproject.Anaconda.Modules.Users",      # User account creation
  "org.fedoraproject.Anaconda.Modules.Timezone"    # Timezone selection
]

# Disable subscription management (not needed for community images)
disable = [
  "org.fedoraproject.Anaconda.Modules.Subscription",
]
